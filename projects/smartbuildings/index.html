<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Francesco De Lucchini</title>
    <link rel="stylesheet" media="only screen and (max-width: 759px)" href="../../mobile.css">
    <link rel="stylesheet" media="only screen and (min-width: 760px)" href="../../desktop.css">
    <link rel="icon" type="image/x-icon" href="../../media/favicon.ico">

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>

    <span class="mobile">Your device is too small to view this website</span>

    <div class="vbox">

        <span class="title">SmartBuildings</span>
    
        <p class="limit justify">
            <b>MySQL</b> database which stores buildings equipped with sensors and provides data analytics functions such as damage estimates following earthquakes
        </p>

        <a class="link limit italian-flag" href="https://github.com/deluf/smartbuildings">Check out the code on GitHub</a>

        <span class="big-margin italian-flag">Full project documentation is available <a href="doc/documentation.pdf">here</a></span>
        <span class="italian-flag">Restructured ER diagram is available <a href="doc/restructured-er-diagram.pdf">here</a></span>
        <span class="italian-flag">ER diagram is available <a href="doc/er-diagram.pdf">here</a></span>

        <span class="subtitle-low-margin">About</span>   

        <span class="limit justify margin">
            SmartBuildings is the database of a company wihch deals with construction and renovation of buildings with the purpose of improving their security
        </span>

        <span class="limit justify margin">
            The database stores the internal structure of buildings, the jobs carried out on them and their cost,
            the staff and the work shifts, the materials used and the warehouse, the sensors installed in the buildings and their measurements
              and finally the possible calamitous events and the their effect on surrounding buildings
        </span>

        <span class="subtitle-low-margin">Highlights</span>   

        <span class="paragraph-no-margin">Calculate the area of any given building</span>

        <div class="limit hbox tiny-margin">
            <div class="vbox">
                <span class="justify">
                    The walls of the buildings are stored as segments in the Euclidean plane <pre style="display: inline;">[(X<sub>1</sub>, Y<sub>1</sub>), (X<sub>2</sub>, Y<sub>2</sub>)]</pre>,
                    this means that using the <a href="https://en.wikipedia.org/wiki/Shoelace_formula">shoelace formula</a> we can calculate the area of any
                    given building, and in the database there is a function which does just that
                </span>
  
            </div>
            <img width="350" style="margin-left: 20px;" src="media/shoelace.gif" alt="Shoelace formula animation">    
        </div>

        <span class="limit justtify">
            In order for this to work we must: 
            <ol style="margin: 0;">
                <li>Only consider the polygon formed by the external walls of the building</li>
                <li><b>Order the vertices of that polygon in either a clockwise or counter clockwise order</b></li>
            </ol>
        </span>

        <span class="limit justify tiny-margin">
            The first one is trivial, to achieve the second one we can simply start from a random point of 
            the polygon and then query the walls' table to get the two adjacent points, if we keep track of
            which points we already visited we will end up with either a clockwise or a counter clockwise order, depending
            on the random choice made at the first point (the only in where we could have gone to either adjacent
            point since neither of them was already visited)
        </span>
        

        <span class="paragraph-no-margin">Create an svg plan of any building floor</span>

        <div class="limit hbox tiny-margin">
            <div class="vbox">
                <span class="justify">
                    The database contains a function which outputs a string representing the svg plan of any given building floor:
                </span>
                <ul style="margin-top: 10px;">
                    <li><span style="color: #4aa1ff;">Blue</span> segments are windows</li>
                    <li><span style="color: #3cc961;">Green</span> segments are doors</li>
                    <li><span style="color: #aa6c49;">Brown</span> segments are generic openings</li>
                    <li><span style="color: #c33232;">Red</span> dots are sensors</li>
                </ul>
            </div>
            <img width="350" style="margin-left: 20px;" src="media/floor.png" alt="Floor plan">    
        </div>


        <span class="paragraph-no-margin">Approximate earthquakes magnitude using accelerometers data</span>
        
        <span class="limit justify margin">
            The database contains a stored procedure which approximates the magnitude of an earthquake using data collected
            form accelerometers in nearby buildings
        </span>

        <span class="limit justify tiny-margin">
            To <b>calculate the perceived magnitude of the earthquake by a given building</b> we can use the following table:
        </span>
        <img class="limit tiny-margin" src="media/pga-table.png" alt="PGA to Mercalli table">    

        <span class="limit justify tiny-margin">
            We can then use the perceived magnitude \(Mercalli(r)\) of a building distant \(r\) km from the epicenter to
             approximate the intensity of the earthquake in its epicenter \(Mercalli_0\) using the following formula:
        </span>
        <span>
            \( Mercalli(r) = \frac{Mercalli_0}{\left(\frac{r}{\mu} + 1\right)^2} \)
        </span>
        <span class="limit justify tiny-margin">
            <ul>            
                <li>\(\mu\) is the attenuation coefficient of the mechanical waves coming from the earthquake, by default 600</li>
                <li>\(+ 1\) stops the function from going to \(+\infty\) for \(r\to0\)</li>
                <li>The exponent 2 at the denominator accounts for the fact that the energy carried in mechanical waves attenuates quadratically with the distance from the epicenter</li>
            </ul>
        </span>


        <a class="link limit big-margin" href="../../">Go back to all the projects</a>

    </div>

    <div class="footer">
        <span>Handcrafted with â™¡ using pure HTML/CSS/JS</span>
        <a href="https://www.flaticon.com">Icons courtesy of Flaticon</a>
        <a class="flagcounter" href="http://s11.flagcounter.com/more/P47a"><img src="https://s11.flagcounter.com/count2/P47a/bg_2E2E2E/txt_FFFFFF/border_000000/columns_5/maxflags_10/viewers_3/labels_0/pageviews_0/flags_0/percent_0/" alt="Flag Counter"></a>
    </div>

</body>
</html>